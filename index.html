<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>라이어 게임</title>
    <style>

      .status-container, .body-container {
        font-size: 30px;
        font-weight: bold;
      }
      .time-container {
      }

      #top{
        display: block;

        width: 400px;
        height: 200px;
        background-color: green;
        float: left;
        margin: 5px;
      }
      #top_box{
        display: block;

        width: 380px;
        height: 180px;
        background-color: white;
        margin: 10px;
      }
      #mid{
        display: block;

        width: 400px;
        height: 300px;
        background-color: green;
        float: left;
        margin: 5px;
      }
      #mid_box{
        display: block;

        width: 360px;
        height: 260px;
        background-color: white;
        margin: 10px;
        padding: 10px;
      }
      #mid_box input{
        display: none;
        padding: none;
        margin-top: 60px;
        margin-left: 7%;
        background-color: gold;
        border: none;
        font-size: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 3px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
      }
    </style>
    <script type="text/javascript">
      const subject = ["동물", "음식", "장소", "탈 것"];
      const word = [["개", "고양이", "소", "올챙이", "쥐", "지네", "호랑이", "기린", "표범", "너구리", "스컹크", "친칠라", "캥거루", "사슴", "알파카", "토끼", "고슴도치", "개미핥기", "참새", "부엉이"], ["볶음밥"], ["카페"], ["놀이기구"]];
      var selectedWord = word[0][Math.floor(Math.random() * 19) + 0];
      var lierNum
      var peopleNum;
      var i = 0;

      function setPeopleNum(num) {
        peopleNum = num;
        lierNum = Math.floor(Math.random() * peopleNum) + 1;



        document.getElementById("clickWord").style.display = 'block';
        document.getElementById("clickNext").style.display = 'block';
        document.getElementById("peopleNum").style.display = 'none';
        document.getElementById("submitButton").style.display = 'none';
        nextPeople();
      }

      function nextPeople() {
        i++;
        document.getElementById("statusBox").innerHTML = "<br>플레이어" + i + "의 차례입니다.";
        if(i == peopleNum)
        {
          document.getElementById("clickNext").value = '게임 시작하기.';
        }
        else if(i > peopleNum)
        {
          document.getElementById("clickNext").onclick = gameStart();
        }
      }

      function lierCheck() {
        if(i == lierNum)
        {
          alert('당신은 라이어 입니다.');
        }
        else {
          alert('당신은 라이어가 아닙니다.');
        }
      }

      function  gameStart() {
        document.getElementById("statusBox").innerHTML = "";

        document.getElementById("clickNext").value = '단어를 추리하기';
        document.getElementById("clickNext").onclick = function () {
          reasonWord();
        }
        document.getElementById("clickWord").value = '라이어를 투표하기';
        document.getElementById("clickWord").onclick = function () {
          voteLier();
        }

        setTimer(180);
      }

      function reasonWord() {

      }

      function voteLier() {
      }

      function setTimer(time) {
        var box = document.getElementById("top_box");
        var x = setInterval(function() {
          box.innerHTML = time + "초";
          time--;

          if (time < 0 ) {
            clearInterval(x);
            box.innerHTML = "시간초과";
          }
        }, 1000);
      }


    </script>
  </head>
  <body>
    <div id="top">
      <div class="status-container" id="top_box">
        <div id="statusBox"><br>인원수</div>
        <input type="text" id="peopleNum" onchange="setPeopleNum(this.value)">
        <input type="button" id="submitButton" value="submit">
      </div>
    </div>

    <div id="mid">
      <div class="body-container" id="mid_box">
        <input type="button" id="clickWord" value="직업확인" onclick="lierCheck()">
        <input type="button" id="clickNext" value="다음사람" onclick="nextPeople()">
      </div>
    </div>
  </body>
</html>
